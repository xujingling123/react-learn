<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>函数柯里化</title>
    </head>
    
    <body>
        <div id="test1"></div>
        <div id="test2"></div>
        <!-- 引入react核心库 -->
        <script type="text/javascript" src="../js/react.development.js"></script>
        <!-- 引入react-dom,用于支持react操作DOM -->
        <script type="text/javascript" src="../js/react-dom.development.js"></script>
        <!-- 引入babel,用于将jsx转为js-->
        <script type="text/javascript" src="../js/babel.min.js"></script>
        <!-- 引入prop-type，用于对组件标签属性进行限制 -->
         <script type="text/javascript" src="../js/prop-types.js"></script>

         <!-- 常见的高阶函数有：Promise map filter reduce 函数柯里化 -->

        <script type="text/babel">
            class Life extends React.Component{
                state={opacity:1}
                handleClick=(event)=>{
                    console.log("handleClick----->",event)
                }
                death=()=>{
                    //卸载组件
                    ReactDOM.unmountComponentAtNode(document.getElementById('test1'))
                }
                //组件挂载完毕后调用
                componentDidMount(){
                    this.changeOpacity()
                }
                //组件将要卸载
                componentWillUnmount(){
                    clearInterval(this.timer)
                }
                changeOpacity=()=>{
                    this.timer=setInterval(()=>{
                        let {opacity}=this.state
                        opacity-=0.1
                        if(opacity<=0.1){
                            opacity=1
                        }
                        this.setState({
                            opacity
                        })
                    },500)
                }
                render(){
                    
                    return(
                        <div>
                            <h2 style={{opacity:this.state.opacity}}>事件处理</h2>
                            <button onClick={this.death}>点我</button>
                            
                        </div>
                    )
                }
            }
           
            //渲染虚拟Dom到页面
            ReactDOM.render(<Life/>,document.getElementById('test1'))
            
        </script>
    </body>
</html>